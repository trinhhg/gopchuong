:root {
    --primary-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    --primary-color: #6366f1;
    --primary-hover: #4f46e5;
    --bg-body: #f3f4f6;
    --bg-white: #ffffff;
    --text-main: #1f2937;
    --text-muted: #6b7280;
    --border-light: #e5e7eb;
    --danger: #ef4444;
    --success: #10b981;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --radius: 8px;
}

* { box-sizing: border-box; outline: none; }
body { margin: 0; font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, Roboto, sans-serif; background: var(--bg-body); color: var(--text-main); height: 100vh; overflow: hidden; }

/* --- LAYOUT --- */
.app-layout { display: flex; height: 100%; width: 100%; }

/* SIDEBAR */
.sidebar { width: 280px; background: var(--bg-white); border-right: 1px solid var(--border-light); display: flex; flex-direction: column; transition: 0.3s ease; z-index: 50; flex-shrink: 0; }
.sidebar.collapsed { width: 0; padding: 0; border: none; overflow: hidden; }

.sidebar-header { padding: 20px; display: flex; justify-content: space-between; align-items: center; font-weight: 800; color: var(--primary-color); letter-spacing: -0.5px; }
.count-badge { background: #eff6ff; color: var(--primary-color); padding: 4px 10px; border-radius: 20px; font-size: 12px; font-weight: 700; }

.sidebar-content { flex: 1; overflow-y: auto; padding: 10px; }
.sidebar-footer { padding: 20px; border-top: 1px solid var(--border-light); background: var(--bg-white); }
.tool-row { display: flex; align-items: center; margin-bottom: 10px; font-size: 13px; font-weight: 600; color: var(--text-muted); }
.tool-row input { margin-right: 8px; cursor: pointer; }

/* Sidebar Items */
.file-item { display: flex; align-items: center; padding: 10px; border-radius: var(--radius); margin-bottom: 4px; cursor: pointer; font-size: 14px; transition: 0.2s; color: var(--text-main); }
.file-item:hover { background: #f9fafb; }
.file-item.selected { background: #eef2ff; color: var(--primary-color); }
.file-item input { margin-right: 12px; cursor: pointer; }
.empty-text { text-align: center; color: var(--text-muted); font-size: 13px; margin-top: 40px; }

/* MAIN AREA */
.main-area { flex: 1; display: flex; flex-direction: column; min-width: 0; }

/* TOP NAV (Đã chỉnh layout cùng hàng) */
.top-nav { height: 60px; display: flex; align-items: center; padding: 0 20px; background: var(--bg-white); border-bottom: 1px solid var(--border-light); }
.nav-left { display: flex; align-items: center; width: 100%; }

.icon-btn { background: white; border: 1px solid var(--border-light); padding: 8px 12px; border-radius: var(--radius); cursor: pointer; margin-right: 16px; font-size: 16px; color: var(--text-muted); transition: 0.2s; display: flex; align-items: center; justify-content: center; }
.icon-btn:hover { border-color: var(--primary-color); color: var(--primary-color); background: #f5f3ff; }

/* TABS */
.tab-group { display: flex; background: #f3f4f6; padding: 4px; border-radius: var(--radius); gap: 4px; }
.tab-pill { border: none; background: transparent; padding: 6px 16px; border-radius: 6px; font-weight: 600; color: var(--text-muted); cursor: pointer; transition: 0.2s; font-size: 13px; }
.tab-pill.active { background: white; color: var(--text-main); box-shadow: var(--shadow-sm); }
.tab-pill:hover:not(.active) { color: var(--text-main); }

/* CONTENT VIEW */
.view-content { display: none; flex: 1; flex-direction: column; padding: 20px; height: calc(100% - 60px); overflow: hidden; }
.view-content.active { display: flex; }

/* EDITOR VIEW COMPONENTS */
.toolbar-card { background: white; border-radius: 12px; padding: 16px; display: flex; align-items: center; justify-content: space-between; box-shadow: var(--shadow-sm); margin-bottom: 16px; flex-wrap: wrap; gap: 15px; border: 1px solid var(--border-light); }
.chapter-info { flex: 1; display: flex; gap: 15px; min-width: 200px; }
.input-box { display: flex; flex-direction: column; gap: 4px; }
.input-box label { font-size: 11px; font-weight: 700; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
.input-box input { border: 1px solid var(--border-light); padding: 8px 12px; border-radius: 6px; font-weight: 600; color: var(--primary-color); font-size: 14px; outline: none; transition: 0.2s; }
.input-box input:focus { border-color: var(--primary-color); box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1); }
.action-group { display: flex; align-items: center; gap: 12px; }

.editor-wrapper { flex: 1; background: white; border-radius: 12px; padding: 4px; box-shadow: var(--shadow-sm); border: 1px solid var(--border-light); overflow: hidden; display: flex; }
#editor { width: 100%; height: 100%; border: none; resize: none; font-size: 16px; padding: 20px; font-family: inherit; line-height: 1.6; color: #374151; }
#editor::placeholder { color: #9ca3af; }

/* MANAGER VIEW COMPONENTS */
.manager-card { background: white; border-radius: 12px; flex: 1; display: flex; flex-direction: column; padding: 20px; box-shadow: var(--shadow-sm); border: 1px solid var(--border-light); overflow: hidden; }
.manager-header { display: flex; justify-content: space-between; margin-bottom: 15px; align-items: center; }

/* Folder Navigation (Breadcrumbs) */
.folder-nav { display: flex; align-items: center; gap: 6px; font-size: 14px; }
.nav-item { padding: 4px 8px; border-radius: 4px; cursor: pointer; font-weight: 600; color: var(--text-muted); transition: 0.2s; }
.nav-item:hover { background: #f3f4f6; color: var(--primary-color); }
.nav-item.active { cursor: default; color: var(--text-main); background: transparent; }
.nav-item.root { color: var(--primary-color); }
.sep { color: #d1d5db; }

/* File List Table */
.file-table-header { display: flex; background: #f9fafb; padding: 12px 10px; font-weight: 700; color:
