:root {
    --bg-dark: #1e1e2d;
    --bg-sidebar: #2b2b40;
    --bg-main: #f4f5f7;
    --primary: #5664d2;
    --text-white: #ffffff;
    --text-dark: #333;
    --border: #e0e0e0;
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
body { font-family: 'Roboto', sans-serif; height: 100vh; overflow: hidden; background: var(--bg-main); font-size: 13px; }

.dashboard { display: flex; height: 100%; width: 100%; }

/* SIDEBAR (Dark Theme for contrast) */
.sidebar { width: 260px; background: var(--bg-sidebar); color: #a2a3b7; display: flex; flex-direction: column; flex-shrink: 0; }
.brand { height: 60px; display: flex; align-items: center; padding: 0 20px; font-weight: 800; font-size: 16px; color: var(--text-white); background: #1e1e2d; letter-spacing: 1px; }

.folder-section, .file-section { padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.file-section { flex: 1; overflow: hidden; display: flex; flex-direction: column; }
.section-title { font-size: 11px; font-weight: 700; text-transform: uppercase; margin-bottom: 10px; display: flex; justify-content: space-between; color: #6d6e8b; }

.folder-list { max-height: 150px; overflow-y: auto; margin-bottom: 10px; }
.folder-item { padding: 8px 10px; border-radius: 4px; cursor: pointer; transition: 0.2s; display: flex; justify-content: space-between; }
.folder-item:hover { background: rgba(255,255,255,0.05); color: var(--text-white); }
.folder-item.active { background: var(--primary); color: white; }

.file-list-compact { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 2px; }
.side-file { padding: 6px 10px; display: flex; align-items: center; gap: 8px; cursor: pointer; border-radius: 4px; }
.side-file:hover { background: rgba(255,255,255,0.05); color: white; }
.side-file.selected { background: rgba(86, 100, 210, 0.2); color: #8c99e0; }
.side-file span { flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.wc-badge { font-size: 10px; background: #1e1e2d; padding: 2px 5px; border-radius: 4px; }

.sidebar-actions { padding: 15px; background: #1e1e2d; display: flex; gap: 10px; }
.btn-block { width: 100%; background: rgba(255,255,255,0.1); border: none; color: white; padding: 6px; border-radius: 4px; cursor: pointer; }
.btn-primary-block { flex: 1; background: var(--primary); color: white; border: none; padding: 10px; border-radius: 4px; font-weight: bold; cursor: pointer; }
.btn-danger-block { width: 60px; background: #ff5252; color: white; border: none; padding: 10px; border-radius: 4px; font-weight: bold; cursor: pointer; }

/* MAIN WORKSPACE */
.workspace { flex: 1; display: flex; flex-direction: column; min-width: 0; }

.top-bar { height: 60px; background: white; border-bottom: 1px solid var(--border); display: flex; align-items: center; padding: 0 20px; justify-content: space-between; }
.input-area { display: flex; align-items: center; gap: 15px; flex: 1; }
.input-title { font-size: 18px; font-weight: bold; border: none; width: 300px; color: var(--primary); }
.toggle-group { display: flex; align-items: center; gap: 5px; font-weight: 500; font-size: 12px; }

.actions-area { display: flex; gap: 10px; }
.btn-action { background: var(--primary); color: white; border: none; padding: 8px 25px; border-radius: 20px; font-weight: bold; cursor: pointer; }
.btn-text { background: transparent; border: none; color: #999; cursor: pointer; }

/* CONTENT AREA */
.content-area { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; }
.hidden-editor { height: 0; padding: 0; border: none; opacity: 0; }

/* GRID LAYOUT (FIX LỖI LẸM FILE) */
.manager-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px; }
.grid-card { background: white; border: 1px solid var(--border); border-radius: 8px; padding: 15px; cursor: pointer; transition: 0.2s; position: relative; height: 100px; display: flex; flex-direction: column; justify-content: space-between; }
.grid-card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-color: var(--primary); }
.grid-card .icon { font-size: 24px; margin-bottom: 5px; }
.grid-card .title { font-weight: 600; color: #333; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.grid-card .meta { font-size: 11px; color: #888; display: flex; justify-content: space-between; }
.chk-overlay { position: absolute; top: 10px; right: 10px; transform: scale(1.2); cursor: pointer; }

/* READER MODAL (FULLSCREEN) */
.reader-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #222; z-index: 9999; display: none; }
.reader-overlay.show { display: flex; }

.reader-container { width: 100%; height: 100%; display: flex; flex-direction: column; }
.reader-nav { height: 50px; background: #333; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; color: white; border-bottom: 1px solid #444; }
.reader-info { font-weight: bold; color: #ccc; }
.nav-btn { background: #444; border: none; color: white; padding: 6px 12px; border-radius: 4px; cursor: pointer; margin-left: 5px; }
.nav-btn:hover { background: var(--primary); }
.nav-btn.close:hover { background: #ff5252; }

.reader-viewport { flex: 1; overflow-y: auto; display: flex; justify-content: center; padding: 40px; background: #1a1a1a; }
.reader-paper { background: #fdf6e3; width: 100%; max-width: 800px; min-height: 100%; padding: 60px; box-shadow: 0 0 20px black; color: #333; }
#readerHeader { font-family: 'Merriweather', serif; font-size: 24px; text-align: center; margin-bottom: 40px; color: #2c3e50; }
#readerBody { font-family: 'Merriweather', serif; font-size: 18px; line-height: 1.8; text-align: justify; white-space: pre-wrap; }

#toast { position: fixed; bottom: 20px; right: 20px; background: #333; color: white; padding: 10px 20px; border-radius: 4px; display: none; }
#toast.show { display: block; animation: fadeUp 0.3s; }
@keyframes fadeUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
